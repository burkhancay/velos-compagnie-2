{"ast":null,"code":"import axios from \"axios\";\nimport { loadStripe } from \"@stripe/stripe-js\"; // GET\n\nexport const getProducts = () => {\n  return new Promise((onSuccess, onFail) => {\n    axios.get(\"/api/products\").then((response, error) => {\n      if (!response || error) {\n        return onFail(`Response failure: ${error}`);\n      }\n\n      onSuccess(response);\n    }).catch(err => onFail(err));\n  });\n};\nexport const getUser = body => {\n  return new Promise((onSuccess, onFail) => {\n    axios.get(\"/api/user\", body.email).then((response, error) => {\n      if (!response || error) {\n        return onFail(`Response failure: ${error}`);\n      }\n\n      onSuccess(response.data);\n    }).catch(err => onFail(err));\n  });\n}; // POST\n\nexport const addUser = body => {\n  return new Promise((onSuccess, onFail) => {\n    axios.post(\"/api/users/add\", body).then((response, error) => {\n      if (!response || error) {\n        return onFail(`Response failure: ${error}`);\n      }\n\n      onSuccess(`user profile successfully created`);\n    }).catch(err => onFail(err));\n  });\n}; // stripe\n\nexport const processPayment = async order => {\n  var stripePromise = loadStripe(\"pk_test_51J2C71BFFN3bz7frVMdAgoOi43KvuStnJ2ObsOQXI6XGgyTNZRv1vpgzQjNKk7ttsWp5QyNuytD8mHPcZVzXKeP2002xZy1Tds\");\n  const stripe = await stripePromise;\n  axios.post(\"api/create-checkout-session\", order).then(response => {\n    const sessionID = response.data.id;\n    return stripe.redirectToCheckout({\n      sessionId: sessionID\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/BRKHNCY/Desktop/velos/client/src/lib/service/index.js"],"names":["axios","loadStripe","getProducts","Promise","onSuccess","onFail","get","then","response","error","catch","err","getUser","body","email","data","addUser","post","processPayment","order","stripePromise","stripe","sessionID","id","redirectToCheckout","sessionId"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,mBAA3B,C,CAEA;;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC7B,SAAO,IAAIC,OAAJ,CAAY,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AACtCL,IAAAA,KAAK,CACJM,GADD,CACK,eADL,EAECC,IAFD,CAEM,CAACC,QAAD,EAAUC,KAAV,KAAoB;AACtB,UAAG,CAACD,QAAD,IAAaC,KAAhB,EAAsB;AAAE,eAAOJ,MAAM,CAAE,qBAAoBI,KAAM,EAA5B,CAAb;AAA8C;;AACtEL,MAAAA,SAAS,CAACI,QAAD,CAAT;AACH,KALD,EAMCE,KAND,CAMQC,GAAD,IAASN,MAAM,CAACM,GAAD,CANtB;AAOH,GARM,CAAP;AASH,CAVM;AAYP,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU;AAC7B,SAAO,IAAIV,OAAJ,CAAY,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AACtCL,IAAAA,KAAK,CACJM,GADD,CACK,WADL,EACkBO,IAAI,CAACC,KADvB,EAECP,IAFD,CAEM,CAACC,QAAD,EAAUC,KAAV,KAAoB;AACtB,UAAG,CAACD,QAAD,IAAaC,KAAhB,EAAsB;AAAE,eAAOJ,MAAM,CAAE,qBAAoBI,KAAM,EAA5B,CAAb;AAA8C;;AACtEL,MAAAA,SAAS,CAACI,QAAQ,CAACO,IAAV,CAAT;AACH,KALD,EAMCL,KAND,CAMQC,GAAD,IAASN,MAAM,CAACM,GAAD,CANtB;AAOH,GARM,CAAP;AASH,CAVM,C,CAYP;;AAEA,OAAO,MAAMK,OAAO,GAAIH,IAAD,IAAU;AAC7B,SAAO,IAAIV,OAAJ,CAAY,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AACtCL,IAAAA,KAAK,CACJiB,IADD,CACM,gBADN,EACwBJ,IADxB,EAC8BN,IAD9B,CACmC,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACpD,UAAG,CAACD,QAAD,IAAaC,KAAhB,EAAsB;AAAE,eAAOJ,MAAM,CAAE,qBAAoBI,KAAM,EAA5B,CAAb;AAA8C;;AACtEL,MAAAA,SAAS,CAAE,mCAAF,CAAT;AACH,KAJD,EAKCM,KALD,CAKQC,GAAD,IAASN,MAAM,CAACM,GAAD,CALtB;AAMH,GAPM,CAAP;AAQH,CATM,C,CAWP;;AACA,OAAO,MAAMO,cAAc,GAAG,MAAOC,KAAP,IAAiB;AAC3C,MAAIC,aAAa,GAAGnB,UAAU,CAAC,6GAAD,CAA9B;AACA,QAAMoB,MAAM,GAAG,MAAMD,aAArB;AACApB,EAAAA,KAAK,CACJiB,IADD,CACM,6BADN,EACqCE,KADrC,EAECZ,IAFD,CAEOC,QAAD,IAAc;AAChB,UAAMc,SAAS,GAAGd,QAAQ,CAACO,IAAT,CAAcQ,EAAhC;AACA,WAAOF,MAAM,CAACG,kBAAP,CAA0B;AAAEC,MAAAA,SAAS,EAAEH;AAAb,KAA1B,CAAP;AACH,GALD;AAMH,CATM","sourcesContent":["import axios from \"axios\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\n\r\n// GET\r\n\r\nexport const getProducts = () => {\r\n    return new Promise((onSuccess, onFail) => {\r\n        axios\r\n        .get(\"/api/products\")\r\n        .then((response,error) => {\r\n            if(!response || error){ return onFail(`Response failure: ${error}`); }\r\n            onSuccess(response);\r\n        })\r\n        .catch((err) => onFail(err));\r\n    });\r\n};\r\n\r\nexport const getUser = (body) => {\r\n    return new Promise((onSuccess, onFail) => {\r\n        axios\r\n        .get(\"/api/user\", body.email)\r\n        .then((response,error) => {\r\n            if(!response || error){ return onFail(`Response failure: ${error}`); }\r\n            onSuccess(response.data);\r\n        })\r\n        .catch((err) => onFail(err));\r\n    })\r\n}\r\n\r\n// POST\r\n\r\nexport const addUser = (body) => {\r\n    return new Promise((onSuccess, onFail) => {\r\n        axios\r\n        .post(\"/api/users/add\", body).then((response, error) => {\r\n            if(!response || error){ return onFail(`Response failure: ${error}`); }\r\n            onSuccess(`user profile successfully created`);\r\n        })\r\n        .catch((err) => onFail(err));\r\n    });\r\n};\r\n\r\n// stripe\r\nexport const processPayment = async (order) => {\r\n    var stripePromise = loadStripe(\"pk_test_51J2C71BFFN3bz7frVMdAgoOi43KvuStnJ2ObsOQXI6XGgyTNZRv1vpgzQjNKk7ttsWp5QyNuytD8mHPcZVzXKeP2002xZy1Tds\");\r\n    const stripe = await stripePromise;\r\n    axios\r\n    .post(\"api/create-checkout-session\", order)\r\n    .then((response) => {\r\n        const sessionID = response.data.id;\r\n        return stripe.redirectToCheckout({ sessionId: sessionID });\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}